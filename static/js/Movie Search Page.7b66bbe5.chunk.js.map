{"version":3,"file":"static/js/Movie Search Page.7b66bbe5.chunk.js","mappings":"8LACA,GAAiB,E,SCyBjB,EAtBmB,SAAC,GAA0B,IAAxBA,EAAuB,EAAvBA,KACdC,EADqC,EAAjBC,WACD,UAAY,GAC/BC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,eAAIC,UAAWC,EAAAA,KAAf,SACGN,EAAKO,KAAI,SAAAC,GAAI,OACZ,eAAkBH,UAAWC,EAAAA,KAA7B,UACE,SAAC,KAAD,CAAMG,GAAE,UAAKR,GAAL,OAAWO,EAAKE,IAAMC,MAAO,CAAEC,KAAMT,GAAYE,UAAWC,EAAAA,KAApE,SACGE,EAAKK,SAFDL,EAAKE,GADF,KASnB,C,uDClBD,MAA0B,yB,SCQ1B,EANgB,SAAC,GAAD,IAAGI,EAAH,EAAGA,SAAH,OAAkB,gBAAKT,UAAWC,EAAhB,SAAiCQ,GAAnD,C,mLCFhB,GAAiB,E,SCsDjB,EAjDmB,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UACxC,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KA4BA,OACE,kBAAMC,SAvBa,SAAAC,GAGnB,GAFAA,EAAIC,iBAEU,KAAVJ,EAAJ,CAGAJ,EAAU,CAAEI,MAAAA,IAEZ,IAAMK,EAAW,mCAAG,2FAClBP,EAAUQ,EAAAA,EAAAA,SADQ,kBAIOC,EAAAA,EAAAA,OAAgBP,EAAO,GAJ9B,OAIVQ,EAJU,OAKhBX,EAAQW,EAASC,SACjBX,EAAUQ,EAAAA,EAAAA,UANM,gDAQhBR,EAAUQ,EAAAA,EAAAA,UARM,yDAAH,qDAWjBD,GAdC,CAeF,EAG+BnB,UAAWC,EAAAA,KAAzC,WACE,kBACED,UAAWC,EAAAA,MACXuB,KAAK,OACLC,KAAK,QACLC,MAAOZ,EACPa,SAjCe,SAAAV,GACnBF,EAASE,EAAIW,OAAOF,MAAMG,YAC3B,KAiCG,mBAAQL,KAAK,SAASxB,UAAWC,EAAAA,YAGtC,E,UCSD,EA9CoB,WAAO,IAAD,EACxB,GAA4B6B,EAAAA,EAAAA,MAA5B,eAAOC,EAAP,KAAerB,EAAf,KACA,GAAwBG,EAAAA,EAAAA,UAAS,IAAjC,eAAOlB,EAAP,KAAagB,EAAb,KACA,GAAwBE,EAAAA,EAAAA,UAAS,GAAjC,eAAOmB,EAAP,KAAaC,EAAb,KACA,GAA4BpB,EAAAA,EAAAA,UAASO,EAAAA,EAAAA,MAArC,eAAOc,EAAP,KAAetB,EAAf,KAEMuB,EAAQ,UAAGJ,EAAOK,IAAI,gBAAd,QAA0B,GAuBxC,OArBAC,EAAAA,EAAAA,YAAU,WACR,GAAiB,KAAbF,EAAJ,CAGAF,EAAQ,GAER,IAAMd,EAAW,mCAAG,2FAClBP,EAAUQ,EAAAA,EAAAA,SADQ,kBAIOC,EAAAA,EAAAA,OAAgBc,EAAUH,GAJjC,OAIVV,EAJU,OAKhBX,EAAQW,EAASC,SACjBX,EAAUQ,EAAAA,EAAAA,UANM,gDAQhBR,EAAUQ,EAAAA,EAAAA,UARM,yDAAH,qDAWjBD,GAdC,CAgBF,GAAE,KAGD,UAACmB,EAAA,EAAD,YACE,SAAC,EAAD,CAAY5B,UAAWA,EAAWC,QAASA,EAASC,UAAWA,IAE9DsB,IAAWd,EAAAA,EAAAA,UAAwB,SAACmB,EAAA,EAAD,IAEnCL,IAAWd,EAAAA,EAAAA,UAAyBzB,EAAK6C,OAAS,GAAkB,KAAbL,IACtD,SAACM,EAAA,EAAD,CAAY9C,KAAMA,EAAME,YAAY,IAGrCqC,IAAWd,EAAAA,EAAAA,WACV,SAACsB,EAAA,EAAD,CAAcC,QAAQ,oDAI7B,C","sources":["components/MoviesList/MoviesList.module.css","components/MoviesList/MoviesList.jsx","components/Section/Section.module.css","components/Section/Section.jsx","components/SearchForm/SearchForm.module.css","components/SearchForm/SearchForm.jsx","pages/MovieSearchPage/MovieSearchPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './MoviesList.module.css';\n\nconst MoviesList = ({ data, isHomePage }) => {\n  const url = isHomePage ? 'movies/' : '';\n  const location = useLocation();\n\n  return (\n    <ul className={styles.list}>\n      {data.map(elem => (\n        <li key={elem.id} className={styles.item}>\n          <Link to={`${url}${elem.id}`} state={{ from: location }} className={styles.link}>\n            {elem.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nMoviesList.propTypes = {\n  data: PropTypes.array.isRequired,\n  isHomePage: PropTypes.bool,\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Section_section__Z2PLw\"};","import PropTypes from 'prop-types';\nimport styles from './Section.module.css';\n\nconst Section = ({ children }) => <div className={styles.section}>{children}</div>;\n\nSection.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Section;\n","// extracted by mini-css-extract-plugin\nexport default {};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport movieAPI from '../../services/movieAPI';\nimport stateMachine from '../../services/status';\nimport styles from './SearchForm.module.css';\n\nconst SearchForm = ({ setSearch, setData, setStatus }) => {\n  const [query, setQuery] = useState('');\n\n  const handleChange = evt => {\n    setQuery(evt.target.value.trimStart());\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n\n    if (query === '') {\n      return;\n    }\n    setSearch({ query });\n\n    const fetchMovies = async () => {\n      setStatus(stateMachine.PENDING);\n\n      try {\n        const response = await movieAPI.search(query, 1);\n        setData(response.results);\n        setStatus(stateMachine.RESOLVED);\n      } catch (error) {\n        setStatus(stateMachine.REJECTED);\n      }\n    };\n    fetchMovies();\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={styles.form}>\n      <input\n        className={styles.input}\n        type=\"text\"\n        name=\"query\"\n        value={query}\n        onChange={handleChange}\n      />\n      <button type=\"submit\" className={styles.formBtn}></button>\n    </form>\n  );\n};\n\nSearchForm.propTypes = {\n  setSearch: PropTypes.func.isRequired,\n  setData: PropTypes.func.isRequired,\n  setStatus: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport Section from '../../components/Section';\nimport stateMachine from '../../services/status';\nimport movieAPI from '../../services/movieAPI';\nimport Loader from '../../components/Loader';\nimport Notification from '../../components/Notification';\nimport SearchForm from '../../components/SearchForm';\nimport MoviesList from '../../components/MoviesList/MoviesList';\n\nconst MovieSearch = () => {\n  const [search, setSearch] = useSearchParams();\n  const [data, setData] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(stateMachine.IDLE);\n\n  const queryURL = search.get('query') ?? '';\n\n  useEffect(() => {\n    if (queryURL === '') {\n      return;\n    }\n    setPage(1);\n\n    const fetchMovies = async () => {\n      setStatus(stateMachine.PENDING);\n\n      try {\n        const response = await movieAPI.search(queryURL, page);\n        setData(response.results);\n        setStatus(stateMachine.RESOLVED);\n      } catch (error) {\n        setStatus(stateMachine.REJECTED);\n      }\n    };\n    fetchMovies();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <Section>\n      <SearchForm setSearch={setSearch} setData={setData} setStatus={setStatus} />\n\n      {status === stateMachine.PENDING && <Loader />}\n\n      {status === stateMachine.RESOLVED && data.length > 0 && queryURL !== '' && (\n        <MoviesList data={data} isHomePage={false} />\n      )}\n\n      {status === stateMachine.REJECTED && (\n        <Notification message=\"Oops, something went wrong! Please try again!\" />\n      )}\n    </Section>\n  );\n};\n\nexport default MovieSearch;\n"],"names":["data","url","isHomePage","location","useLocation","className","styles","map","elem","to","id","state","from","title","children","setSearch","setData","setStatus","useState","query","setQuery","onSubmit","evt","preventDefault","fetchMovies","stateMachine","movieAPI","response","results","type","name","value","onChange","target","trimStart","useSearchParams","search","page","setPage","status","queryURL","get","useEffect","Section","Loader","length","MoviesList","Notification","message"],"sourceRoot":""}